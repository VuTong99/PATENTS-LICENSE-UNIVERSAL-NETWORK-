<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>LICENSECOIN‚Ñ¢ Wallet</title>
  <link rel="stylesheet" href="style.css"> <!-- n·∫øu c√≥ CSS ri√™ng -->
</head>
<body>

  <!-- 1. D√°n ph·∫ßn HTML hi·ªÉn th·ªã v√≠ ngay sau <body> -->
  <div class="wallet">
    <h2>LICENSECOIN‚Ñ¢ Wallet</h2>
    <p>S·ªë d∆∞ hi·ªán t·∫°i:</p>
    <h1 id="balance">0 LCN</h1>

    <input type="number" id="amount" placeholder="Nh·∫≠p s·ªë">
    <button onclick="deposit()">+ N·∫°p</button>
    <button onclick="withdraw()">‚àí R√∫t</button>
    <button onclick="bonus()">üéÅ Nh·∫≠n Bonus</button>
    <button onclick="reset()">Reset</button>
  </div>

  <!-- 2. D√°n ph·∫ßn script x·ª≠ l√Ω logic tr∆∞·ªõc khi k·∫øt th√∫c </body> -->
  <script>
  function getUser(){
    try{ return JSON.parse(localStorage.getItem("vault_user")); }
    catch(e){ return null; }
  }

  function balanceKey(){
    const u=getUser();
    return u ? `lcn_balance_${u.id}` : "lcn_balance_guest";
  }

  function loadBalance(){
    return parseInt(localStorage.getItem(balanceKey())||"0");
  }

  function saveBalance(v){
    localStorage.setItem(balanceKey(), v);
  }

  function updateBalanceUI(){
    document.getElementById("balance").innerText = loadBalance() + " LCN";
  }

  function deposit(){
    const v = parseInt(document.getElementById("amount").value);
    if(v>0){ saveBalance(loadBalance()+v); updateBalanceUI(); }
  }

  function withdraw(){
    const v = parseInt(document.getElementById("amount").value);
    if(v>0){ saveBalance(Math.max(0, loadBalance()-v)); updateBalanceUI(); }
  }

  function bonus(){
    saveBalance(loadBalance()+50);
    updateBalanceUI();
  }

  function reset(){
    saveBalance(0);
    updateBalanceUI();
  }

  updateBalanceUI();
  </script>

  <!-- 3. G·ªçi script chung ·ªü cu·ªëi c√πng -->
  <script src="goc-ui.js"></script>
<div class="wallet">
  <h2>LICENSECOIN‚Ñ¢ Wallet</h2>
  <p>S·ªë d∆∞ hi·ªán t·∫°i:</p>
  <h1 id="balance">0 LCN</h1>

  <input type="number" id="amount" placeholder="Nh·∫≠p s·ªë">
  <button onclick="deposit()">+ N·∫°p</button>
  <button onclick="withdraw()">‚àí R√∫t</button>
  <button onclick="bonus()">üéÅ Nh·∫≠n Bonus</button>
  <button onclick="reset()">Reset</button>
</div>
</body>
</html>
</script>
<script src="goc-ui.js"></script>
