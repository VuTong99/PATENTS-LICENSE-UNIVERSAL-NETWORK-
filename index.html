<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>LICENSE GỐC™</title>
  <meta name="theme-color" content="#0a0b0f">
  <style>
    :root{
      --space:#0a0b0f;      /* nền không gian */
      --ink:#eae7dc;
      --glow:rgba(255,215,0,.18);
    }
    /* reset + layout */
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; overflow:hidden;    /* QUAN TRỌNG: không còn cuộn/chồng màn đen */
      color:var(--ink); background:var(--space);
      font:16px/1.6 system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
    }

    /* Canvas nền mây + mạng 3D */
    #bg{
      position:fixed; inset:0; z-index:-1;
      width:100vw; height:100vh; display:block; pointer-events:none;
    }

    /* (tạm) khung trống để bạn test không bị lớp đen che */
    .wrap{
      position:relative; z-index:1; /* luôn trên nền */
      min-height:100dvh;
      display:grid; place-items:center;
      padding:24px;
    }
    .box{
      backdrop-filter: blur(6px) saturate(120%);
      background: radial-gradient(120% 160% at 10% 10%, rgba(255,255,255,.06), rgba(255,255,255,.02));
      border:1px solid rgba(255,255,255,.09);
      border-radius:14px;
      padding:18px 16px; color:#cfd6e4;
      text-align:center;
    }
  </style>
</head>
<body>

  <!-- NỀN MÂY + MẠCH 3D -->
  <canvas id="bg" aria-hidden="true"></canvas>

  <!-- Nội dung tạm (không có Floating Bar). Bạn có thể thay bằng Features sau -->
  <div class="wrap">
    <div class="box">
      <div style="font-weight:800; letter-spacing:.2px">Welcome to LICENSE GỐC™</div>
      <div style="opacity:.8; font-size:14px">Clean index with volumetric clouds & 3D network background.</div>
    </div>
  </div>

  <!-- KHÔNG nạp goc-ui.js ở index -->
  <script>
  (()=>{
    const cvs = document.getElementById('bg');
    const ctx = cvs.getContext('2d');
    const DPR = Math.max(1, Math.min(2, window.devicePixelRatio||1));
    let W=0,H=0,t0=performance.now();

    function rs(){
      W = cvs.width  = Math.floor(innerWidth * DPR);
      H = cvs.height = Math.floor(innerHeight * DPR);
      cvs.style.width  = innerWidth + 'px';
      cvs.style.height = innerHeight + 'px';
      ctx.setTransform(DPR,0,0,DPR,0,0);
      // backfill nền để tránh “màn đen” khi Safari kéo
      ctx.fillStyle=getComputedStyle(document.documentElement).getPropertyValue('--space')||'#0a0b0f';
      ctx.fillRect(0,0,W,H);
    }
    addEventListener('resize', rs, {passive:true});
    rs();

    // ---------- “Volumetric clouds” đơn giản + hạt sao ----------
    // noise đơn giản (value noise 2D)
    function n2(x,y){
      const s = Math.sin(x*12.9898 + y*78.233) * 43758.5453;
      return s - Math.floor(s);
    }
    function smoothNoise(x,y){
      const x0=Math.floor(x), y0=Math.floor(y);
      const xf=x-x0, yf=y-y0;
      function g(ix,iy){ return n2(ix,iy); }
      const v00=g(x0,y0), v10=g(x0+1,y0), v01=g(x0,y0+1), v11=g(x0+1,y0+1);
      const i1=v00+(v10-v00)*xf;
      const i2=v01+(v11-v01)*xf;
      return i1+(i2-i1)*yf;
    }
    function fbm(x,y){
      let v=0, amp=1, freq=1;
      for(let i=0;i<4;i++){
        v += smoothNoise(x*freq, y*freq)*amp;
        amp*=0.55; freq*=1.9;
      }
      return v;
    }

    const stars = Array.from({length:140}, ()=>({
      x: Math.random()*innerWidth,
      y: Math.random()*innerHeight,
      r: Math.random()*1.25 + 0.25,
      tw: Math.random()*Math.PI*2
    }));

    // ---------- network points (đường mạch 3D) ----------
    const P = Array.from({length:28}, ()=>({
      x: Math.random()*innerWidth,
      y: Math.random()*innerHeight,
      z: Math.random()*1, // “độ sâu”
      vx: (Math.random()-.5)*0.12,
      vy: (Math.random()-.5)*0.12
    }));

    function step(now){
      const t = (now - t0)/1000;

      // nền gradient không gian
      const g = ctx.createRadialGradient(W*0.5, H*0.4, 0, W*0.5, H*0.6, Math.max(W,H));
      g.addColorStop(0, 'rgba(24,28,40,1)');
      g.addColorStop(1, 'rgba(8,10,14,1)');
      ctx.fillStyle = g;
      ctx.fillRect(0,0,innerWidth,innerHeight);

      // lớp mây: vẽ theo dải Alpha dựa trên fbm
      const cloudRows = 90, cloudCols = 160;
      const cw = innerWidth/cloudCols, ch = innerHeight/cloudRows;
      ctx.globalCompositeOperation='lighter';
      for(let j=0;j<cloudRows;j++){
        for(let i=0;i<cloudCols;i++){
          const u = i/cloudCols, v = j/cloudRows;
          const d = fbm(u*2.0 + t*0.03, v*2.0 - t*0.02);
          const a = Math.max(0, Math.min(1, (d-0.35)*1.6));
          if(a<0.01) continue;
          ctx.fillStyle = `rgba(120,160,255,${a*0.08})`;
          ctx.fillRect(i*cw, j*ch, cw+1, ch+1);
        }
      }

      // sao twinkle
      ctx.globalCompositeOperation='screen';
      for(const s of stars){
        s.tw += 0.06;
        const a = 0.25 + Math.abs(Math.sin(s.tw))*0.55;
        ctx.beginPath();
        ctx.arc(s.x, s.y, s.r, 0, Math.PI*2);
        ctx.fillStyle = `rgba(180,210,255,${a})`;
        ctx.fill();
      }

      // network 3D
      ctx.strokeStyle='rgba(120,200,255,0.28)';
      ctx.lineWidth=1;
      for(const q of P){
        // di chuyển nhẹ
        q.x += q.vx; q.y += q.vy;
        if(q.x<0||q.x>innerWidth) q.vx*=-1;
        if(q.y<0||q.y>innerHeight) q.vy*=-1;
      }
      for(let i=0;i<P.length;i++){
        for(let j=i+1;j<P.length;j++){
          const a=P[i], b=P[j];
          const dx=a.x-b.x, dy=a.y-b.y;
          const d2=dx*dx+dy*dy;
          if(d2<140*140){
            const apha = 0.35 * (1 - d2/(140*140));
            ctx.globalAlpha = apha;
            ctx.beginPath();
            ctx.moveTo(a.x, a.y);
            ctx.lineTo(b.x, b.y);
            ctx.stroke();
          }
        }
      }
      ctx.globalAlpha = 1;

      requestAnimationFrame(step);
    }
    requestAnimationFrame(step);
  })();
  </script>
</body>
</html>
